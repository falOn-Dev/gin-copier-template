FROM golang:1.25.5-alpine

RUN go install github.com/githubnemo/CompileDaemon@latest

WORKDIR /{{project_name}}

COPY go.mod go.sum ./
RUN go mod download

CMD ["CompileDaemon", "-build=go build -o /tmp/server ./cmd/server", "-command=/tmp/server"]

